namespace = bendtheknee
country_event = {
	id = bendtheknee.1
	title = "bendtheknee.1.t"
	desc = "bendtheknee.1.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				tag = KOL
				tag = LIE
				tag = TRI
				tag = MUN
			}
			religion = waldensian
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.1.a"
		add_stability = 1
		add_prestige = 50
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.1.b"
		add_stability = -1
		add_prestige = -50
		add_treasury = 100
		change_religion = catholic
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.2
	title = "bendtheknee.2.t"
	desc = "bendtheknee.2.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			OR = {
				tag = ENG
				tag = SCO
				tag = GBR
			}
			religion = lollard
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.2.a"
		add_stability = 1
		add_prestige = 50
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.2.b"
		add_stability = -1
		add_prestige = -50
		add_treasury = 100
		change_religion = catholic
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.3
	title = "bendtheknee.3.t"
	desc = "bendtheknee.3.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		religion = catholic
		is_religion_enabled = protestant
		NOT = {
			culture_group = latin
		}
		NOT = {
			culture_group = iberian
		}
		NOT = {
			culture_group = gaelic
		}
		NOT = {
			has_country_flag = screw_pope
		}
		NOT = {
			has_country_flag = hail_popeman
		}
	}
	mean_time_to_happen = {
		months = 6
	}
	immediate = {
	}
	option = {
		name = "bendtheknee.3.a"
		add_prestige = 50
		change_religion = fraticelli
		set_country_flag = screw_pope
	}
	option = {
		name = "bendtheknee.3.b"
		add_stability = 1
		add_treasury = 100
		set_country_flag = hail_popeman
	}
}

country_event = {
	id = bendtheknee.4
	title = "bendtheknee.4.t"
	desc = "bendtheknee.4.d"
	picture = POPE_PREACHING_eventPicture
	hidden = yes
	trigger = {
		NOT = {
			is_emperor = yes
		}
		NOT = {
			is_emperor_of_china = yes
		}
		NOT = {
			has_country_flag = empire_name
		}
		NOT = {
			has_country_flag = minoa_flag
		}
		government_rank = 3
	}
	mean_time_to_happen = {
		days = 30
	}
	immediate = {
		set_country_flag = empire_name
		empire_name_effect = yes
	}
	option = {
		name = "bendtheknee.4.a"
	}
}

country_event = {
	id = bendtheknee.5
	title = "bendtheknee.5.t"
	desc = "bendtheknee.5.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		tag = HAB
	}
	mean_time_to_happen = {
		days = 3650
	}
	option = {
		name = "bendtheknee.5.a"
		hidden_effect = {
			set_hre_religion_treaty = yes
			set_hre_religion = catholic
			set_hre_religion_treaty = no
			set_hre_religion_locked = yes
			set_hre_religion_locked = no
		}
	}
}

country_event = {
	id = bendtheknee.6
	title = "bendtheknee.6.t"
	desc = "bendtheknee.6.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		NOT = {
			ai = yes
		}
		OR = {
			tag = TKT
			tag = KNI
		}
		OR = {
			IF = {
				limit = {
					tag = KNI
					NOT = {
						has_ruler = "Jean Bonpar de Lastic"
					}
				}
			}
			IF = {
				limit = {
					tag = TKT
					NOT = {
						has_ruler = "Alain de Barrau"
					}
				}
			}
		}
	}
	option = {
		name = "bendtheknee.6.a"
		IF = {
			limit = {
				tag = KNI
				TKT = {
					ai = yes
				}
			}
			inherit = TKT
		}
		IF = {
			limit = {
				tag = TKT
				KNI = {
					ai = yes
				}
			}
			inherit = KNI
		}
		IF = {
			limit = {
				tag = KNI
				TKT = {
					NOT = {
						ai = yes
					}
				}
			}
			vassalize = TKT
		}
		IF = {
			limit = {
				tag = TKT
				KNI = {
					NOT = {
						ai = yes
					}
				}
			}
			vassalize = KNI
		}
	}
}



#Japanese Daimyo

country_event = {
	id = bendtheknee.23
	title = "bendtheknee.23.t"
	desc = "bendtheknee.23.d"
	picture = POPE_PREACHING_eventPicture
	trigger = {
		AND = {
			culture_group = japanese_g
			}
			NOT = {
				has_reform = daimyo
			}
			NOT = {
				has_reform = shogunate
			}
			NOT = {
				has_country_flag = screw_hegemon
			}
			NOT = {
				has_country_flag = hail_hegemon
			}
			NOT = {
				has_country_flag = ask_asks_for_subjects
			}
		}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		ASK = {
			set_country_flag = ask_asks_for_subjects
		}
	}
	option = {
		name = "bendtheknee.19.a"
		set_country_flag = hail_hegemon
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = "bendtheknee.7.b"
		custom_tooltip = "bendtheknee.screwjapan.tt"
		set_country_flag = screw_hegemon
		ai_chance = {
			factor = 50
		}
	}
}
country_event = {
	id = bendtheknee.24
	title = "bendtheknee.24.t"
	desc = "bendtheknee.24.d"
	picture = POPE_PREACHING_eventPicture
	fire_only_once = yes
	trigger = {
		has_country_flag = ask_asks_for_subjects
	}
	mean_time_to_happen = {
		months = 3
	}
	option = {
		name = "bendtheknee.24.a"
		IF = {
			limit = {
				AMA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = AMA
			}
		}
		ELSE_IF = {
			limit = {
				AMA = {
					has_country_flag = screw_hegemon
				}
			}
			AMA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				ASA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = ASA
			}
		}
		ELSE_IF = {
			limit = {
				ASA = {
					has_country_flag = screw_hegemon
				}
			}
			ASA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				CSK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = CSK
			}
		}
		ELSE_IF = {
			limit = {
				AMA = {
					has_country_flag = screw_hegemon
				}
			}
			CSK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				DTE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = DTE
			}
		}
		ELSE_IF = {
			limit = {
				DTE = {
					has_country_flag = screw_hegemon
				}
			}
			DTE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HJO = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HJO
			}
		}
		ELSE_IF = {
			limit = {
				HJO = {
					has_country_flag = screw_hegemon
				}
			}
			HJO = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HSK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HSK
			}
		}
		ELSE_IF = {
			limit = {
				HSK = {
					has_country_flag = screw_hegemon
				}
			}
			HSK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				HTK = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = HTK
			}
		}
		ELSE_IF = {
			limit = {
				HTK = {
					has_country_flag = screw_hegemon
				}
			}
			HTK = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				IKE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = IKE
			}
		}
		ELSE_IF = {
			limit = {
				IKE = {
					has_country_flag = screw_hegemon
				}
			}
			IKE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				IMG = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = IMG
			}
		}
		ELSE_IF = {
			limit = {
				IMG = {
					has_country_flag = screw_hegemon
				}
			}
			IMG = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MAE = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = MAE
			}
		}
		ELSE_IF = {
			limit = {
				MAE = {
					has_country_flag = screw_hegemon
				}
			}
			MAE = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				MRI = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = MRI
			}
		}
		ELSE_IF = {
			limit = {
				MRI = {
					has_country_flag = screw_hegemon
				}
			}
			MRI = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				ODA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = ODA
			}
		}
		ELSE_IF = {
			limit = {
				ODA = {
					has_country_flag = screw_hegemon
				}
			}
			ODA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				OTM = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = OTM
			}
		}
		ELSE_IF = {
			limit = {
				OTM = {
					has_country_flag = screw_hegemon
				}
			}
			OTM = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				OUC = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = OUC
			}
		}
		ELSE_IF = {
			limit = {
				OUC = {
					has_country_flag = screw_hegemon
				}
			}
			OUC = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				SBA = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = SBA
			}
		}
		ELSE_IF = {
			limit = {
				SBA = {
					has_country_flag = screw_hegemon
				}
			}
			SBA = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				SMZ = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = SMZ
			}
		}
		ELSE_IF = {
			limit = {
				SMZ = {
					has_country_flag = screw_hegemon
				}
			}
			SMZ = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				TKD = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = TKD
			}
		}
		ELSE_IF = {
			limit = {
				TKD = {
					has_country_flag = screw_hegemon
				}
			}
			TKD = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				TKG = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = TKG
			}
		}
		ELSE_IF = {
			limit = {
				TKG = {
					has_country_flag = screw_hegemon
				}
			}
			TKG = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				UES = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = UES
			}
		}
		ELSE_IF = {
			limit = {
				UES = {
					has_country_flag = screw_hegemon
				}
			}
			UES = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				YMN = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = YMN
			}
		}
		ELSE_IF = {
			limit = {
				YMN = {
					has_country_flag = screw_hegemon
				}
			}
			YMN = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				RFR = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = RFR
			}
		}
		ELSE_IF = {
			limit = {
				RFR = {
					has_country_flag = screw_hegemon
				}
			}
			RFR = {
				add_stability = -1
			}
		}
		IF = {
			limit = {
				KTB = {
					has_country_flag = hail_hegemon
				}
			}
			create_subject = {
				subject_type = daimyo_vassal
				subject = KTB
			}
		}
		ELSE_IF = {
			limit = {
				KTB = {
					has_country_flag = screw_hegemon
				}
			}
			KTB = {
				add_stability = -1
			}
		}
	}
}